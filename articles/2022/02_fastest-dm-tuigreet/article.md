---
title: "【tuigreet】テキストベースのディスプレイマネージャがかなり快適だった"
tags: ["linux"]
is_favorite: false
published_at: "2022-03-22T09:47:50"
updated_at: "2022-06-29T07:04:24"
---

最近デスクトップPCにArch Linuxを入れました。以前も入れていたのですが、その時はWindowsでしか動かないゲームにハマってしまい、Cドライブの圧迫を憂いて吹き飛ばしてしまいました。今回は前回の反省を活かしてゲーム用SSDのパーティションを切ってインストールしました。

https://twitter.com/Watasuke102/status/1506093120961716227

さて、今回のインストールに伴って、かなり色々構成を変えました。以前はPlasmaを入れてリッチなグラフィックを堪能するのが好みでしたが、最近はVSCodeVimを入れたりとマウスレスな環境を構築する機運が高まってきたため、i3wmを入れました。ついでなので、軽めの環境にしようかな〜と思い、色々試してみました。

この過程で、新たな可能性が見えてきたので紹介します。greetdとtuigreetです。

## そもそもDMは遅すぎる

Plasmaを使ってた頃はSDDMを入れて、Plasmaの設定マネージャから良さげなテーマをインストールして使っていました。ただ、これ思ったより起動が遅いんですよね。ブラーとかあってかなり綺麗なテーマを好んで入れていたんですが、ログインできるようになるまでかなりの時間がかかっていました。

## tuigreetという選択肢

tuigreetを知ったのは、Manjaro Sway経由です。今回インストールしたのはi3wmですが、せっかくなら他のタイルwmも試してみたいなーと思い、その一環としてManjaro SwayをVirtualBoxに入れて試してみたのがきっかけで知りました。

https://twitter.com/Watasuke102/status/1504609290698768386

見ての通り、非常にシンプルです。その代わり、立ち上がりが非常に速いです。また、シンプルでも必要な機能はちゃんと揃っています（セッションやユーザーの変更など）。

## 導入方法

今回はArch Linux用のインストール方法しか説明しません。まあインストールしてサービスの有効化するだけなので多分大丈夫だと思います。

とりあえず、今使っているDMがあれば、サービスを無効化しておいてください。次に、`tuigreet`と、それを起動するデーモン`greetd`をインストールします。

```bash
pacman -S greetd greetd-tuigreet
```

次に、greetdがtuigreetを起動するようにします。任意のエディタで`/etc/greetd/config.toml`を開き、 `command`行を次のように変更します。多分11行目くらいです。

```
command = “tuigreet -t -r --remember-session --asterisks”
```

各オプションは次のような意味を持ちます。必要があれば消すなどしてください。

- -t：上部に時間を表示する
- -r：前回入力したユーザー名を記録する（毎回ユーザー名を入力する必要がなくなります）
- --remember-session：前回選択したセッションを記録する
- --asterisks：パスワードを入力すると、入力した文字数分アスタリスクが表示されるようになる

そして、greetdのサービスを有効化します。

```bash
$ systemctl enable greetd.service
```

これで、起動時にtuigreetが表示されるようになると思います。

## まとめ

パッケージ2つ入れてサービスを有効化するだけで使えるので、是非一回使ってみてください。ついでにi3wmとか入れてもいいと思います。
